(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(59)},34:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),o=a.n(c),i=a(2),s=a(3),u=a(5),l=a(4),d=a(6),m=(a(34),a(8)),p=a(15),h=function(e){var t=e.data,a=function(e){return e?new Date(e).getUTCHours():(new Date).getUTCHours()},n=function(e){return e?new Date(e).getUTCDate():(new Date).getUTCDate()},c=function(e,t){return r.a.createElement("div",{className:"hourly-info",key:t},r.a.createElement("div",{className:"hour-temperature"},"".concat(Math.round(e.main.temp),"\xb0C")),r.a.createElement("div",{className:"hour-of-the-day"},"".concat(a(1e3*e.dt),":00")),r.a.createElement("div",null,r.a.createElement("img",{src:"https://openweathermap.org/img/w/".concat(e.weather[0].icon,".png")})))};return r.a.createElement("div",{className:"hourly"},t.map(function(e,t){return a(1e3*e.dt)>a()&&n(1e3*e.dt)===n()?c(e,t):a(1e3*e.dt)>=0&&a(1e3*e.dt)<=23?c(e,t):null}))},f=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c))))._groupByDays=function(e){return e.reduce(function(e,t){var a=t.dt_txt.substr(0,10);return e[a]=e[a]||[],e[a].push(t),e},{})},a._getDayInfo=function(e){return["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date(1e3*e[0].dt).getDay()]},a._getIcon=function(e){return"https://openweathermap.org/img/w/".concat(e[0].weather[0].icon,".png")},a._getInfo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];e.map(function(e){a.push(e.main.temp_max),t.push(e.main.temp_min),n.push(e.main.humidity),c.push(e.wind.speed)});var o={min:Math.round(Math.min.apply(Math,Object(p.a)(t))),max:Math.round(Math.max.apply(Math,Object(p.a)(a)))},i=Math.round(n.reduce(function(e,t){return e+t})/n.length),s=Math.round(c.reduce(function(e,t){return e+t})/c.length);return r.a.createElement("div",{className:"weather-info"},r.a.createElement("div",{className:"min-max"},r.a.createElement("strong",null,"".concat(o.max,"\xb0C")," / ","".concat(o.min,"\xb0C"))),r.a.createElement("div",{className:"more-info"},"Avg. Humidity: ".concat(i,"%")),r.a.createElement("div",{className:"more-info"},"Avg. Wind Speed: ".concat(s," meter/sec")))},a._showMoreInfo=function(e){var t=a.refs["div-".concat(e)],n=document.querySelector(".expanded");t.classList.add("expanded"),null!==n&&n.classList.remove("expanded")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.forecasts,a=Object.values(this._groupByDays(t)),n=a.length>5?a.slice(0,5):a;return r.a.createElement("div",{className:"forecast-tiles"},n.map(function(t,a){return r.a.createElement("div",{className:"forecast-tile tile-".concat(a),key:a,ref:"div-".concat(a),onClick:function(){e._showMoreInfo(a)}},r.a.createElement("div",{className:"primary-info"},r.a.createElement("div",{className:"icon"},e._getDayInfo(t)),e._getInfo(t)),r.a.createElement("div",{className:"detailed-info",key:a},r.a.createElement(h,{data:t})))}))}}]),t}(n.Component),y="FETCH_DATA_FULFILLED",v="FETCH_DATA_REJECTED",g="fbf712a5a83d7305c3cda4ca8fe7ef29",E=a(26),b=a.n(E),w=function(e){return function(t){var a=e||{},n=a.latitude,r=a.longitude,c="https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&units=metric&appid=").concat(g),o="https://api.openweathermap.org/data/2.5/forecast?lat=".concat(n,"&lon=").concat(r,"&units=metric&appid=").concat(g),i="object"===typeof e?o:c;return b.a.get(i).then(function(e){t({type:y,payload:e.data})}).catch(function(e){t({type:v,payload:e})})}},_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r))))._updateCity=function(){var e=a.__cityInput.value;0!==e.length&&a.props.onDetectCity(e)},a._onkeyPress=function(e){"Enter"===e.key&&a._updateCity()},a._currentLocation=function(){new Promise(function(e,t){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(t){e(t.coords)},function(e){e.code===e.PERMISSION_DENIED&&alert("Error detecting location.")})}).then(function(e){a.props.onDetectLocation(e)}).catch(function(){a.props.onDetectLocation("London")})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t="failed"===this.props.status?"weather-dashboard invalid-city":"weather-dashboard";return r.a.createElement("div",{className:t},r.a.createElement("header",null,r.a.createElement("h1",{className:"heading"},"Weather Forecast")),r.a.createElement("section",{className:"controls"},r.a.createElement("div",{className:"searchWidth"},r.a.createElement("label",{className:"labelPadding"},"Search By City:"),r.a.createElement("input",{type:"text",className:"city-input",id:"city-name",ref:function(t){return e.__cityInput=t,e.__cityInput},onKeyPress:this._onkeyPress,placeholder:"Enter City Name"}),r.a.createElement("input",{type:"button",value:">",className:"search",onClick:this._updateCity,id:"change-city-btn"})),r.a.createElement("div",{className:"locationWidth"},r.a.createElement("input",{type:"button",className:"locationButtonHeight",value:"Use Current Location",onClick:this._currentLocation}))),this.props.forecast&&"404"===this.props.forecast.cod?r.a.createElement("span",{className:"error"},"Please enter valid city name!"):null)}}]),t}(n.Component),O=Object(m.b)(function(e){return{forecast:e.WeatherStation.data,status:e.WeatherStation.status}},function(e){return{onDetectCity:function(t){return e(w(t))},onDetectLocation:function(t){return e(w(t))}}})(_),j=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"weather-forecast-wrapper"},r.a.createElement(O,null),this.props.forecast&&"200"===this.props.forecast.cod?r.a.createElement(f,{forecasts:this.props.forecast.list}):null)}}]),t}(r.a.Component),N=Object(m.b)(function(e){return{forecast:e.WeatherStation.data}})(j),C=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(N,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=a(9),k=a(16),I={WeatherStation:{data:null,status:null}};var L=a(27),S=a(28),M=Object(D.a)(S.a,Object(L.createLogger)()),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.c,x=Object(D.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(k.a)({},e,{WeatherStation:{data:t.payload,status:"success"}});case v:return Object(k.a)({},e,{WeatherStation:{data:t.payload.response.data,status:"failed"}})}return e},W(M));o.a.render(r.a.createElement(m.a,{store:x},r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,2,1]]]);
//# sourceMappingURL=main.d2d6855f.chunk.js.map